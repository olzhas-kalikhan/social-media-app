(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),i=n(14),r=n.n(i),o=(n(134),n(50)),s=n(17),l=n(13),u=n(3),j=n(7),d={login:function(e){return fetch("/api/user/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},register:function(e){return fetch("/api/user/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},logout:function(){return fetch("/api/user/logout").then((function(e){return e.json()})).then((function(e){return e}))},isAuthenticated:function(){return fetch("/api/user/authenticated").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{email:"",name:"",role:""}}}))}},h=Object(a.createContext)(),b=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(j.a)(n,2),r=i[0],o=i[1],s=Object(a.useState)(!1),l=Object(j.a)(s,2),u=l[0],b=l[1],f=Object(a.useState)(!1),m=Object(j.a)(f,2),p=m[0],O=m[1],x=function(){d.isAuthenticated().then((function(e){o(e.user),b(e.isAuthenticated),O(!0)})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)(x,[]),Object(c.jsx)("div",{children:p?Object(c.jsx)(h.Provider,{value:{user:r,setUser:o,isAuthenticated:u,setIsAuthenticated:b,fetchUserData:x},children:t}):Object(c.jsx)("h1",{children:"Loading"})})},f=function(e){var t=e.component,n=e.roles,i=Object(u.a)(e,["component","roles"]),r=Object(a.useContext)(h),o=r.isAuthenticated,j=r.user;return Object(c.jsx)(s.b,Object(l.a)(Object(l.a)({},i),{},{render:function(e){return o?n.includes(j.role)?Object(c.jsx)(t,Object(l.a)({},e)):Object(c.jsx)(s.a,{to:{pathname:"/profile",state:{from:e.location}}}):Object(c.jsx)(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},m=function(e){var t=e.component,n=Object(u.a)(e,["component"]),i=Object(a.useContext)(h).isAuthenticated;return Object(c.jsx)(s.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return i?Object(c.jsx)(s.a,{to:{pathname:"/home",state:{from:e.location}}}):Object(c.jsx)(t,Object(l.a)({},e))}}))},p=n(9),O=n(187),x=n(151),g=n(191),v=n(192),w=n(55),y=Object(O.a)((function(e){return{root:{display:"flex",width:"100%",textDecoration:"none",justifyContent:"center ",color:"#011640"},listItem:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50px",width:"100%"},selectedItem:{backgroundColor:"none",color:"#010626","&hover":{background:"none",color:"grey"}},listItemText:Object(p.a)({textAlign:"center",width:"100%",flex:"0.5 0.5"},e.breakpoints.down("sm"),{display:"none"}),icon:{fontSize:"2rem",color:"inherit",minWidth:"0"}}})),C=function(e){var t=e.text,n=e.icon,a=e.path,i=e.onClick,r=e.index,s=e.selected,l=y();return Object(c.jsx)(o.b,{to:{pathname:a},className:l.root,children:Object(c.jsxs)(x.a,{button:!0,alignItems:"center",selected:s===r,onClick:function(){return i(r)},classes:{root:l.listItem,selected:l.selectedItem},children:[Object(c.jsx)(g.a,{classes:{root:l.icon},children:n({fontSize:"inherit"})}),Object(c.jsx)(v.a,{disableTypography:!0,classes:{root:l.listItemText},children:Object(c.jsx)(w.a,{variant:"h5",children:t})})]})})},S=n(193),F=function(e){var t=e.selected,n=e.onClick,a=e.items;return Object(c.jsxs)("div",{className:e.className,children:[a.map((function(e,a){var i=e.title,r=e.icon,o=e.path;return Object(c.jsx)(C,{index:a,text:i,icon:r,path:o,selected:t,onClick:n},"Nav-".concat(a,"-").concat(i))})),Object(c.jsx)(S.a,{onClick:function(){d.logout().then((function(){window.location.reload()}))},children:"Logout"})]})},N=function(e){return Object(c.jsx)("div",{className:e.className})},k=n(194),I=Object(O.a)((function(e){return{root:{display:"flex",width:"100%",backgroundColor:"#011640",color:"#FFFFFF",height:e.spacing(7),minHeight:"5vh",alignItems:"center"},navGrid:Object(p.a)({margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),searchBarLabel:{color:"#FFFFFF"},searchBar:{borderRadius:"30px",color:"#FFFFFF"},textField:{width:"100%",color:"#FFFFFF"}}})),P=function(e){var t=I(),n=e.title;return Object(c.jsx)("div",{className:t.root,children:Object(c.jsxs)(k.a,{className:t.navGrid,container:!0,justify:"center",alignItems:"center",children:[Object(c.jsx)(k.a,{item:!0,md:2,children:Object(c.jsxs)(w.a,{variant:"h4",children:[" ",n.toUpperCase()," "]})}),Object(c.jsx)(k.a,{item:!0,md:4})]})})},B=n(96),D=n.n(B),T=n(95),U=n.n(T),E=n(97),z=n.n(E),A=[{title:"Home",path:"/home",icon:function(e){return Object(c.jsx)(U.a,Object(l.a)({},e))}},{title:"Profile",path:"/profile",icon:function(e){return Object(c.jsx)(D.a,Object(l.a)({},e))}},{title:"Friends",path:"/friends",icon:function(e){return Object(c.jsx)(z.a,Object(l.a)({},e))}}],W=Object(O.a)((function(e){return{root:Object(p.a)({height:"95vh",maxHeight:"95vh",margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),content:Object(p.a)({width:"100%",height:"100%",maxHeight:"100%",overflow:"scroll"},e.breakpoints.down("sm"),{order:"2"}),sidebar:Object(p.a)({height:"100%",width:"80%",display:"flex",paddingTop:"50%",flexDirection:"column",alignItems:"center",margin:"0 auto"},e.breakpoints.down("xs"),{paddingTop:"0",flexDirection:"row",order:"3",height:"10%"}),sideInfo:Object(p.a)({width:"100%",height:"100%"},e.breakpoints.down("sm"),{display:"none"})}})),L=function(e){var t=W(),n=e.children,i=e.location,r=A.findIndex((function(e){return e.path===i.pathname})),o=Object(a.useState)(r),s=Object(j.a)(o,2),l=s[0],u=s[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(P,{title:A[l].title}),Object(c.jsxs)(k.a,{className:t.root,container:!0,alignItems:"stretch",children:[Object(c.jsx)(k.a,{item:!0,md:3,xs:12,children:Object(c.jsx)(F,{className:t.sidebar,items:A,selected:l,onClick:u})}),Object(c.jsx)(k.a,{item:!0,md:6,xs:12,className:t.content,children:n}),Object(c.jsx)(k.a,{item:!0,md:3,children:Object(c.jsx)(N,{className:t.sideInfo})})]})]})},R=Object(O.a)((function(e){return{root:{flexGrow:1,height:"100vh"},menu:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},menuItem:{margin:e.spacing(1),width:"45%"}}})),J=n(15),M=n.n(J),H=n(73),_=Object(O.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},formElement:Object(p.a)({marginBottom:e.spacing(1),marginTop:e.spacing(1),width:"50%"},e.breakpoints.down("md"),{width:"70%"}),formBtnSubmit:Object(p.a)({marginTop:e.spacing(2),width:"20%",borderRadius:e.spacing(1.5)},e.breakpoints.down("md"),{width:"50%"}),formLinks:(t={display:"flex",justifyContent:"space-between",width:"50%"},Object(p.a)(t,e.breakpoints.down("md"),{width:"70%",flexDirection:"column"}),Object(p.a)(t,"&:hover",{cursor:"pointer"}),t)}})),G=n(198),q=n(213),Q=n(199),V=n(200),K=n(211),X=n(74),Y=n.n(X),Z=n(195),$=n(197),ee=function(e){var t=e.severity,n=e.message,i=e.setMessage,r=Object(a.useState)(!1),o=Object(j.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){l(null!==n)}),[n]),Object(c.jsx)(Z.a,{in:s,children:Object(c.jsx)(K.a,{severity:t,action:Object(c.jsx)($.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l(!1),i(null)},children:Object(c.jsx)(Y.a,{fontSize:"inherit"})}),children:n})})},te=function(e){var t=e.history,n=e.renderSignUp,i=_(),r=Object(a.useContext)(h),o=Object(a.useState)(null),s=Object(j.a)(o,2),u=s[0],b=s[1],f=Object(a.useState)({email:"",password:""}),m=Object(j.a)(f,2),p=m[0],O=m[1],x=function(){var e=Object(H.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),""===p.email||""===p.password?b("Please enter email and password"):d.login(p).then((function(e){console.log(e,"ccccccccc");var n=e.isAuthenticated,c=e.user,a=e.message;n?(r.setUser(c),r.setIsAuthenticated(n),t.push("/home")):(b(a),console.log(a,"message"))})).catch((function(){return b("Wrong email and password combination")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:i.root,onSubmit:x,children:[Object(c.jsx)(w.a,{variant:"h1",children:"SIGN IN"}),Object(c.jsxs)(G.a,{className:i.formElement,error:null!==u,children:[Object(c.jsx)(q.a,{htmlFor:"email-login",children:"Email"}),Object(c.jsx)(Q.a,{id:"email-login",type:"email",value:p.email,onChange:function(e){O((function(t){return Object(l.a)(Object(l.a)({},t),{},{email:e.target.value})}))}})]}),Object(c.jsxs)(G.a,{className:i.formElement,error:null!==u,children:[Object(c.jsx)(q.a,{htmlFor:"password-login",children:"Password"}),Object(c.jsx)(Q.a,{id:"password-login",type:"password",value:p.password,onChange:function(e){O((function(t){return Object(l.a)(Object(l.a)({},t),{},{password:e.target.value})}))}})]}),Object(c.jsxs)("div",{className:i.formLinks,children:[Object(c.jsx)(V.a,{children:"Forgot Password?"}),Object(c.jsx)(V.a,{onClick:n,children:"Don't have an account yet?"})]}),Object(c.jsx)(S.a,{className:i.formBtnSubmit,type:"submit",variant:"contained",color:"primary",children:Object(c.jsx)(w.a,{variant:"h3",children:"Login"})}),Object(c.jsx)(ee,{message:u,setMessage:b,severity:"error"})]})},ne=function(e){var t=e.renderSignIn,n=e.history,i=_(),r=Object(a.useState)({email:!1,name:!1,password:!1,confirmPassword:!1}),o=Object(j.a)(r,2),s=o[0],u=o[1],h=Object(a.useState)(null),b=Object(j.a)(h,2),f=b[0],m=b[1],p=Object(a.useState)({name:"",email:"",password:"",confirmPassword:""}),O=Object(j.a)(p,2),x=O[0],g=O[1],v=function(){var e=Object(H.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u((function(e){var t=e;return t.email=""===x.email,t.name=""===x.name,t.password=""===x.password,t.confirmPassword=""===x.confirmPassword,t})),x.password!==x.confirmPassword&&m("Passwords don't match"),d.register(x).then((function(e){console.log(e.status),"error"!==e.status?n.push("/home"):m(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:i.root,onSubmit:v,children:[Object(c.jsx)(w.a,{variant:"h1",children:"SIGN UP"}),Object(c.jsxs)(G.a,{className:i.formElement,error:s.email,children:[Object(c.jsx)(q.a,{htmlFor:"email-signup",children:"Email"}),Object(c.jsx)(Q.a,{id:"email-signup",type:"email",value:x.email,onChange:function(e){g((function(t){return Object(l.a)(Object(l.a)({},t),{},{email:e.target.value})}))}})]}),Object(c.jsxs)(G.a,{className:i.formElement,error:s.name,children:[Object(c.jsx)(q.a,{htmlFor:"name-signup",children:"Name"}),Object(c.jsx)(Q.a,{id:"name-signup",value:x.name,onChange:function(e){g((function(t){return Object(l.a)(Object(l.a)({},t),{},{name:e.target.value})}))}})]}),Object(c.jsxs)(G.a,{className:i.formElement,error:s.password,children:[Object(c.jsx)(q.a,{htmlFor:"password-signup",children:"Password"}),Object(c.jsx)(Q.a,{id:"password-signup",type:"password",value:x.password,onChange:function(e){g((function(t){return Object(l.a)(Object(l.a)({},t),{},{password:e.target.value})}))}})]}),Object(c.jsxs)(G.a,{className:i.formElement,error:s.confirmPassword,children:[Object(c.jsx)(q.a,{htmlFor:"confirm-password-signup",children:"Confirm Password"}),Object(c.jsx)(Q.a,{id:"confirm-password-signup",type:"password",value:x.confirmPassword,onChange:function(e){g((function(t){return Object(l.a)(Object(l.a)({},t),{},{confirmPassword:e.target.value})}))}})]}),Object(c.jsx)(ee,{message:f,setMessage:m,severity:"error"}),Object(c.jsx)(S.a,{className:i.formBtnSubmit,variant:"contained",color:"primary",type:"submit",children:Object(c.jsx)(w.a,{variant:"h3",children:"Sign Up"})}),Object(c.jsxs)(w.a,{children:["Already have an account?",Object(c.jsx)(V.a,{onClick:t,children:" Login"})]})]})},ce=function(e){var t=R(),n=Object(a.useState)(!0),i=Object(j.a)(n,2),r=i[0],o=i[1];return Object(c.jsx)("div",{className:t.root,children:Object(c.jsx)(k.a,{container:!0,justify:"center",children:Object(c.jsx)(k.a,{className:t.menu,item:!0,xs:12,sm:6,children:r?Object(c.jsx)(te,{history:e.history,renderSignUp:function(){return o(!1)}}):Object(c.jsx)(ne,{history:e.history,renderSignIn:function(){return o(!0)}})})})})},ae={createPost:function(e){return fetch("/api/post/add",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e}))},getAllPosts:function(){return fetch("/api/post/allPosts").then((function(e){return e.json()})).then((function(e){return e}))},getReplies:function(e){return fetch("/api/post/".concat(e,"/replies")).then((function(e){return e.json()})).then((function(e){return e}))},getCurrentUserPosts:function(){return fetch("/api/post/myPosts").then((function(e){return e.json()})).then((function(e){return e}))},likeComment:function(e){return fetch("/api/post/likePost",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},unLikeComment:function(e){return fetch("/api/post/unLikePost",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},deletePost:function(e){return fetch("/api/post/deletePost",{method:"POST",body:JSON.stringify({post:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))}},ie=n(214),re=Object(O.a)((function(e){return{root:{width:"100%",WebkitBoxSizing:"border-box",height:"auto",padding:e.spacing(2,2,1),backgroundColor:"#FFFFFF",borderTop:"2px solid #D0D0D0"},postContent:{width:"100%"},postInfoContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between"},postInfo:{display:"flex",alignItems:"center",justifyContent:"space-between"},avatar:{margin:"auto",width:e.spacing(6),height:e.spacing(6)}}})),oe=n(77),se=n.n(oe),le=function(e){var t=se()(new Date),n=se()(e);return se.a.duration(t.diff(n)).asDays()>=1?n.format("MMM D"):n.fromNow()},ue=n(98),je=n.n(ue),de=n(114),he=n(203),be=function(e){var t=e.items,n=Object(a.useState)(null),i=Object(j.a)(n,2),r=i[0],o=i[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S.a,{onClick:function(e){o(e.currentTarget)},style:{padding:"0 5px",minWidth:"20px"},children:Object(c.jsx)(je.a,{})}),Object(c.jsx)(de.a,{keepMounted:!0,anchorEl:r,open:Boolean(r),onClose:function(){o(null)},children:t.map((function(e,t){return Object(c.jsx)(he.a,{onClick:e.action,children:e.title},t)}))})]})},fe=n(212),me=n(204),pe=n(205),Oe=Object(O.a)((function(e){return{root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},title:{textAlign:"center"}}})),xe=function(e){var t=e.title,n=e.children,a=e.open,i=e.onClose,r=Oe();return Object(c.jsxs)(fe.a,{classes:{paper:r.root},open:a,onClose:i,fullWidth:!0,maxWidth:"sm",children:[t&&Object(c.jsx)(me.a,{className:r.title,children:t}),Object(c.jsx)(pe.a,{children:n})]})},ge=Object(O.a)((function(e){return{root:{width:"100%",padding:e.spacing(0),paddingRight:e.spacing(3)},image:{width:"100%",height:"100%",objectFit:"cover",margin:"auto"}}})),ve=function(e){var t=e.images,n=ge(),i=Object(a.useState)(!1),r=Object(j.a)(i,2),o=r[0],s=r[1],l=Object(a.useState)(),u=Object(j.a)(l,2),d=u[0],h=u[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k.a,{className:n.root,container:!0,children:t.length>0&&t.map((function(e,t,a){return Object(c.jsx)(k.a,{item:!0,xs:(i=a.length,1===i?12:2===i?6:3===i?4:3),children:Object(c.jsx)("img",{alt:"post attached images",className:n.image,src:e,onClick:function(){return h(t),void s(!0)}})},e);var i}))}),Object(c.jsx)(xe,{open:o,onClose:function(){s(!1)},children:Object(c.jsx)("img",{className:n.image,alt:"post attached images",src:t[d],onClick:function(){h((function(){var e=d+1;return e>=t.length?0:e<0?t.length-1:e}))}})})]})},we=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1),alignItems:"center",width:"60%"},statsBtn:{color:"#404040"}}})),ye=n(109),Ce=n.n(ye),Se=n(108),Fe=n.n(Se),Ne=n(111),ke=n.n(Ne),Ie=n(110),Pe=n.n(Ie),Be=n(208),De=n(76),Te=n(107),Ue=n.n(Te),Ee=Object(O.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2,0),justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},textArea:{width:"90%",margin:e.spacing(1,0)},submitButton:{width:"80%",borderRadius:"30px"}}})),ze=function(e){var t=e.onCreate,n=e.onSubmit,i=Ee(),r=Object(a.useState)(""),o=Object(j.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)(!1),d=Object(j.a)(u,2),h=d[0],b=d[1],f=Object(a.useState)([]),m=Object(j.a)(f,2),p=m[0],O=m[1],x=function(){b(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:i.root,onSubmit:function(e){e.preventDefault();var c=new FormData;c.append("postText",s),p.forEach((function(e,t){c.append("attahcedFiles",e,"".concat(Date.now(),"-File").concat(t+1))})),n&&n(c),ae.createPost(c).then((function(){l(""),t()}))},children:[Object(c.jsx)(Be.a,{id:"newPost",className:i.textArea,value:s,onChange:function(e){l(e.target.value)},placeholder:"New Post",multiline:!0}),Object(c.jsxs)(k.a,{container:!0,children:[Object(c.jsx)(k.a,{item:!0,xs:3,children:Object(c.jsx)(S.a,{onClick:function(){b(!0)},children:Object(c.jsx)(Ue.a,{})})}),Object(c.jsx)(k.a,{item:!0,xs:6}),Object(c.jsx)(k.a,{item:!0,xs:3,children:Object(c.jsx)(S.a,{className:i.submitButton,variant:"contained",color:"primary",type:"submit",children:"Post"})})]})]}),Object(c.jsx)(De.a,{open:h,onClose:x,onDrop:function(e){O(e)},onSave:function(){x()},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0,maxFileSize:6291456})]})},Ae=function(e){var t=e.post._id,n=Object(a.useState)([]),i=Object(j.a)(n,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){ae.getReplies(t).then((function(e){o(e.replies)})).catch((function(e){return console.log(e)}))}),[t]),Object(c.jsxs)("div",{children:[Object(c.jsx)(ze,{onSubmit:function(e){e.append("postId",t),console.log(e)},onCreate:function(){}}),r&&r.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(Le,{post:e})},t)}))]})},We=function(e){var t=e.post,n=e.comment,i=we(),r=Object(a.useContext)(h).user,o=Object(a.useState)(!1),s=Object(j.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(t.likes.length),b=Object(j.a)(d,2),f=b[0],m=b[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],g=O[1];return Object(a.useEffect)((function(){u(t.likes.includes(r._id))}),[t,r]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:i.root,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(S.a,{className:i.feedbackBtn,onClick:function(){l?ae.unLikeComment(t._id).then((function(e){u(!1),m(f-1)})):ae.likeComment(t._id).then((function(e){u(!0),m(f+1)}))},children:l?Object(c.jsx)(Fe.a,{fontSize:"small"}):Object(c.jsx)(Ce.a,{fontSize:"small"})}),Object(c.jsx)(w.a,{variant:"caption",children:f})]}),!n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(S.a,{className:i.feedbackBtn,onClick:function(){g(!0)},children:Object(c.jsx)(Pe.a,{fontSize:"small"})}),Object(c.jsx)(w.a,{variant:"caption",children:t.replies.length})]}),Object(c.jsx)(S.a,{className:i.feedbackBtn,children:Object(c.jsx)(ke.a,{fontSize:"small"})})]})]}),Object(c.jsx)(xe,{open:x,onClose:function(){g(!1)},children:Object(c.jsx)(Ae,{post:t})})]})},Le=function(e){var t=e.post,n=e.comment,i=e.refresh,r=Object(a.useContext)(h).user,o=re(),s=[];return s.push({title:"Report",action:function(){alert("hi")}}),r._id===t.postedBy._id&&s.push({title:"Delete",action:function(){ae.deletePost(t).then((function(e){i()})).catch((function(e){return console.log(e)}))}}),Object(c.jsxs)(k.a,{container:!0,className:o.root,children:[Object(c.jsx)(k.a,{item:!0,xs:2,children:Object(c.jsx)(ie.a,{className:o.avatar,src:t.postedBy.profileImage})}),Object(c.jsx)(k.a,{item:!0,xs:10,children:Object(c.jsxs)("div",{className:o.postInfoContainer,children:[Object(c.jsxs)("div",{className:o.postContent,children:[Object(c.jsxs)("div",{className:o.postInfo,children:[Object(c.jsx)(w.a,{variant:"h5",children:t.postedBy.name}),Object(c.jsxs)("div",{className:o.postInfo,children:[Object(c.jsx)(w.a,{variant:"subtitle1",children:le(t.date)}),Object(c.jsx)(be,{items:s})]})]}),Object(c.jsx)(w.a,{variant:"subtitle2",children:t.post})]}),Object(c.jsx)(ve,{images:t.files}),Object(c.jsx)(We,{post:t,comment:n})]})})]})},Re=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1],r=function(){ae.getAllPosts().then((function(e){e.posts?i(e.posts):console.log(e)}))};return Object(a.useEffect)(r,[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(ze,{onCreate:r}),n.map((function(e,t){return Object(c.jsx)(Le,{post:e,refresh:r},e._id)}))]})},Je=n(209),Me=n(206),He=Object(O.a)((function(e){return{root:{height:"100%",maxHeight:"100%",overflow:"scroll"},banner:{minHeight:"30%",backgroundImage:"url(https://marketplace.canva.com/EADahxS2PEw/1/0/800w/canva-snowy-mountaintops-profile-header-sU9map7BguQ.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",justifyContent:"flex-start",alignItems:"center"},avatar:{backgroundColor:"white",height:"100px",width:"100px"},infoPanel:{minHeight:"25%",borderTop:"1px solid grey"},profileInfo:{width:"100%"},tabs:{width:"100%"}}})),_e={getFollowings:function(){return fetch("/api/user/following").then((function(e){return 401!==e.status?e.json().then((function(e){return e.following})):[]}))},searchUser:function(e){return fetch("/api/user/search",{method:"POST",body:JSON.stringify({query:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},uploadProfileImage:function(e){return fetch("/api/user/uploadProfileImage",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},Ge=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},qe=function(e){var t=e.children,n=e.value,a=e.index,i=Object(u.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({role:"tabpanel",hidden:n!==a},Ge(a)),i),{},{children:n===a&&t}))},Qe=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(2,0),justifyContent:"center",alignItems:"center"},postList:{width:"100%"}}})),Ve=function(e){var t=Qe(),n=Object(a.useState)(null),i=Object(j.a)(n,2),r=i[0],o=i[1],s=Object(a.useState)([]),l=Object(j.a)(s,2),u=l[0],d=l[1],h=function(){ae.getCurrentUserPosts().then((function(e){e.posts?d(e.posts):(console.log(e),o(e.message))}))};return Object(a.useEffect)(h,[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ze,{onCreate:h}),Object(c.jsx)("div",{className:t.postList,children:u.map((function(e,t){return Object(c.jsx)(Le,{post:e,refresh:h},"post-".concat(t,"-").concat(e.date))}))}),r&&Object(c.jsx)("div",{children:r})]})},Ke=function(e){var t=Object(a.useContext)(h),n=t.user,i=t.fetchUserData,r=Object(a.useState)(0),o=Object(j.a)(r,2),s=o[0],u=o[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),f=b[0],m=b[1],p=Object(a.useState)(),O=Object(j.a)(p,2),x=O[0],g=O[1],v=He(),y=function(){m(!1)};return Object(c.jsxs)("div",{className:v.root,children:[Object(c.jsx)("div",{className:v.banner,children:Object(c.jsx)($.a,{disableRipple:!0,onClick:function(){m(!0)},children:Object(c.jsx)(ie.a,{className:v.avatar,src:n.profileImage})})}),Object(c.jsx)("div",{className:v.infoPanel,children:Object(c.jsxs)("div",{className:v.profileInfo,children:[Object(c.jsx)(w.a,{variant:"h2",children:n.name}),Object(c.jsxs)(w.a,{variant:"body2",children:["Joined ",le(n.date)]}),Object(c.jsxs)("div",{className:v.tabs,children:[Object(c.jsxs)(Je.a,{variant:"fullWidth",value:s,onChange:function(e,t){u(t)},children:[Object(c.jsx)(Me.a,Object(l.a)({label:"Posts"},Ge(0))),Object(c.jsx)(Me.a,Object(l.a)({label:"Media"},Ge(1)))]}),Object(c.jsx)(qe,{value:s,index:0,children:Object(c.jsx)(Ve,{})})]})]})}),Object(c.jsx)(De.a,{open:f,onClose:y,onDrop:function(e){g(e)},onSave:function(e){var t=new FormData;t.set("image",x[0],"".concat(x[0].lastModified,"-").concat(x[0].name)),_e.uploadProfileImage(t).then((function(e){i(),y()})).catch((function(e){return console.log(e)}))},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0})]})},Xe=Object(O.a)((function(e){return{root:{},searchBar:{width:"90%",WebkitBoxSizing:"border-box",margin:e.spacing(0,4),padding:e.spacing(1,2),display:"flex",alignItems:"center",borderRadius:"50px",marginTop:e.spacing(2)},inputField:{width:"100%"},submitBtn:{}}})),Ye=Object(O.a)((function(e){return{root:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},userInfo:{display:"flex",alignItems:"center"},avatar:{width:e.spacing(8),height:e.spacing(8),margin:e.spacing(0,2)},followBtn:{border:"5px solid #011640",borderRadius:"50px",color:"#011640"}}})),Ze=function(e){var t=Ye(),n=e.user,a=n.name,i=n.profileImage;return Object(c.jsxs)(x.a,{className:t.root,children:[Object(c.jsxs)("div",{className:t.userInfo,children:[Object(c.jsx)(ie.a,{alt:"Profile-Img",className:t.avatar,src:i}),Object(c.jsx)(w.a,{variant:"h5",children:a})]}),Object(c.jsx)(S.a,{className:t.followBtn,children:"Add"})]})},$e=n(202),et=n(196),tt=n(153),nt=n(112),ct=n.n(nt),at=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(""),s=Object(j.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)([]),h=Object(j.a)(d,2),b=h[0],f=h[1],m=Xe();return Object(a.useEffect)((function(){_e.getFollowings().then((function(e){r(e)})).catch((function(e){return console.log(e)})),_e.searchUser("").then((function(e){f(e.users)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(et.a,{component:"form",className:m.searchBar,onSubmit:function(e){e.preventDefault(),_e.searchUser(l).then((function(e){f(e.users)}))},children:[Object(c.jsx)(tt.a,{className:m.inputField,placeholder:"Search User",inputProps:{"aria-label":"search user"},onChange:function(e){""===e.target.value&&f([]),u(e.target.value)}}),Object(c.jsx)($.a,{className:m.submitBtn,type:"submit","aria-label":"search",children:Object(c.jsx)(ct.a,{})})]}),Object(c.jsx)($e.a,{children:i.length>0&&i.map((function(e){return Object(c.jsx)(Ze,{user:e},e.email)}))}),Object(c.jsx)($e.a,{children:b.length>0&&b.map((function(e){return Object(c.jsx)(Ze,{user:e},e.email)}))})]})};var it=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)(s.d,{children:[Object(c.jsx)(m,{exact:!0,path:"/",component:ce}),Object(c.jsxs)(L,{children:[Object(c.jsx)(f,{path:"/profile",roles:["User"],component:Ke}),Object(c.jsx)(f,{path:"/home",roles:["User","Admin"],component:Re}),Object(c.jsx)(f,{path:"/friends",roles:["User"],component:at})]})]})})},rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},ot=n(207),st=n(113),lt=Object(st.a)({palette:{primary:{main:"#011640"}},typography:{h1:{fontSize:"3.2rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#011640"},h2:{fontSize:"3rem",fontFamily:"'Baloo Chettan 2', cursive"},h3:{fontSize:"1.8rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#FFFFFF"},h4:{fontWeight:"700",fontFamily:"'Varela Round', sans-serif"},h5:{fontWeight:"600",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.6rem"},h6:{fontWeight:"400",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.3rem"},subtitle1:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"0.9rem",color:"#505050"},subtitle2:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"1rem"},caption:{fontFamily:"'Ubuntu', sans-serif",fontWeight:"600",color:"#404040",fontSize:"0.7rem"}}});r.a.render(Object(c.jsx)(b,{children:Object(c.jsx)(ot.a,{theme:lt,children:Object(c.jsx)(it,{})})}),document.getElementById("root")),rt()}},[[150,1,2]]]);
//# sourceMappingURL=main.d94d2396.chunk.js.map