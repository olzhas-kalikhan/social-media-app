(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),s=n(14),o=n.n(s),r=(n(134),n(51)),l=n(17),u=n(11),j=n(3),d=n(9),h={login:function(e){return fetch("/api/user/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},register:function(e){return fetch("/api/user/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},logout:function(){return fetch("/api/user/logout").then((function(e){return e.json()})).then((function(e){return e}))},isAuthenticated:function(){return fetch("/api/user/authenticated").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{email:"",name:"",role:""}}}))}},b=Object(c.createContext)(),m=function(e){var t=e.children,n=Object(c.useState)(null),i=Object(d.a)(n,2),s=i[0],o=i[1],r=Object(c.useState)(!1),l=Object(d.a)(r,2),u=l[0],j=l[1],m=Object(c.useState)(!1),f=Object(d.a)(m,2),p=f[0],O=f[1],x=function(){h.isAuthenticated().then((function(e){o(e.user),j(e.isAuthenticated),O(!0)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)(x,[]),Object(a.jsx)("div",{children:p?Object(a.jsx)(b.Provider,{value:{user:s,setUser:o,isAuthenticated:u,setIsAuthenticated:j,fetchUserData:x},children:t}):Object(a.jsx)("h1",{children:"Loading"})})},f=function(e){var t=e.component,n=e.roles,i=Object(j.a)(e,["component","roles"]),s=Object(c.useContext)(b),o=s.isAuthenticated,r=s.user;return Object(a.jsx)(l.b,Object(u.a)(Object(u.a)({},i),{},{render:function(e){return o?n.includes(r.role)?Object(a.jsx)(t,Object(u.a)({},e)):Object(a.jsx)(l.a,{to:{pathname:"/profile",state:{from:e.location}}}):Object(a.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},p=function(e){var t=e.component,n=Object(j.a)(e,["component"]),i=Object(c.useContext)(b).isAuthenticated;return Object(a.jsx)(l.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return i?Object(a.jsx)(l.a,{to:{pathname:"/home",state:{from:e.location}}}):Object(a.jsx)(t,Object(u.a)({},e))}}))},O=n(8),x=n(186),g=n(150),v=n(190),y=n(191),w=n(48),C=Object(x.a)((function(e){return{root:{display:"flex",textDecoration:"none",justifyContent:"center ",color:"#3B5998"},listItem:Object(O.a)({display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50px",width:"70%"},e.breakpoints.down("sm"),{width:"100%"}),selectedItem:{backgroundColor:"none","&hover":{background:"none",color:"grey"}},listItemText:Object(O.a)({textAlign:"center",flex:"0.5 0.5"},e.breakpoints.down("sm"),{display:"none"}),icon:{fontSize:"2rem",color:"inherit",minWidth:"0"}}})),S=function(e){var t=e.text,n=e.icon,c=e.path,i=e.onClick,s=e.index,o=e.selected,l=C();return Object(a.jsx)(r.b,{to:{pathname:c},className:l.root,children:Object(a.jsxs)(g.a,{button:!0,alignItems:"center",selected:o===s,onClick:function(){return i(s)},classes:{root:l.listItem,selected:l.selectedItem},children:[Object(a.jsx)(v.a,{classes:{root:l.icon},children:n({fontSize:"inherit"})}),Object(a.jsx)(y.a,{disableTypography:!0,classes:{root:l.listItemText},primary:Object(a.jsx)(w.a,{variant:"h5",children:t})})]})})},F=n(192),N=n(193),I=function(e){var t=e.selected,n=e.onClick,c=e.items;return Object(a.jsxs)("div",{className:e.className,children:[Object(a.jsx)(F.a,{children:c.map((function(e,c){var i=e.title,s=e.icon,o=e.path;return Object(a.jsx)(S,{index:c,text:i,icon:s,path:o,selected:t,onClick:n},"Nav-".concat(c,"-").concat(i))}))}),Object(a.jsx)(N.a,{onClick:function(){h.logout().then((function(){window.location.reload()}))},children:"Logout"})]})},k=function(e){return Object(a.jsx)("div",{className:e.className,children:"Info"})},P=n(194),B=Object(x.a)((function(e){return{root:{display:"flex",width:"100%",backgroundColor:"#3B5998",color:"#FFFFFF",height:e.spacing(7),minHeight:"5vh",alignItems:"center"},navGrid:Object(O.a)({margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),searchBarLabel:{color:"#FFFFFF"},searchBar:{borderRadius:"30px",color:"#FFFFFF"},textField:{width:"100%",color:"#FFFFFF"}}})),T=function(e){var t=B(),n=e.title;return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(P.a,{className:t.navGrid,container:!0,justify:"center",alignItems:"center",children:[Object(a.jsx)(P.a,{item:!0,md:2,children:Object(a.jsxs)(w.a,{variant:"h4",children:[" ",n.toUpperCase()," "]})}),Object(a.jsx)(P.a,{item:!0,md:4})]})})},D=n(95),U=n.n(D),A=n(94),E=n.n(A),z=n(96),W=n.n(z),L=[{title:"Home",path:"/home",icon:function(e){return Object(a.jsx)(E.a,Object(u.a)({},e))}},{title:"Profile",path:"/profile",icon:function(e){return Object(a.jsx)(U.a,Object(u.a)({},e))}},{title:"Friends",path:"/friends",icon:function(e){return Object(a.jsx)(W.a,Object(u.a)({},e))}}],J=Object(x.a)((function(e){var t,n;return{root:Object(O.a)({height:"95vh",maxHeight:"95vh",margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),content:(t={width:"100%",height:"100%",maxHeight:"100%",overflow:"scroll"},Object(O.a)(t,e.breakpoints.down("sm"),{width:"85%"}),Object(O.a)(t,e.breakpoints.down("xs"),{width:"100%"}),t),sidebar:(n={height:"100%",width:"100%",display:"flex",paddingTop:"50%",flexDirection:"column"},Object(O.a)(n,e.breakpoints.down("sm"),{width:"15%"}),Object(O.a)(n,e.breakpoints.down("xs"),{display:"none"}),n),sideInfo:Object(O.a)({width:"100%",height:"100%"},e.breakpoints.down("sm"),{display:"none"})}})),R=function(e){var t=J(),n=e.children,i=e.location,s=L.findIndex((function(e){return e.path===i.pathname})),o=Object(c.useState)(s),r=Object(d.a)(o,2),l=r[0],u=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T,{title:L[l].title}),Object(a.jsxs)(P.a,{className:t.root,container:!0,alignItems:"stretch",children:[Object(a.jsx)(P.a,{item:!0,md:3,children:Object(a.jsx)(I,{className:t.sidebar,items:L,selected:l,onClick:u})}),Object(a.jsx)(P.a,{item:!0,md:6,className:t.content,children:n}),Object(a.jsx)(P.a,{item:!0,md:3,children:Object(a.jsx)(k,{className:t.sideInfo})})]})]})},H=Object(x.a)((function(e){return{root:{flexGrow:1,height:"100vh"},menu:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},menuItem:{margin:e.spacing(1),width:"45%"}}})),_=n(15),G=n.n(_),M=n(73),q=Object(x.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},formElement:Object(O.a)({marginBottom:e.spacing(1),marginTop:e.spacing(1),width:"50%"},e.breakpoints.down("md"),{width:"70%"}),formBtnSubmit:Object(O.a)({marginTop:e.spacing(2),width:"20%",borderRadius:e.spacing(1.5)},e.breakpoints.down("md"),{width:"50%"}),formLinks:(t={display:"flex",justifyContent:"space-between",width:"50%"},Object(O.a)(t,e.breakpoints.down("md"),{width:"70%",flexDirection:"column"}),Object(O.a)(t,"&:hover",{cursor:"pointer"}),t)}})),Q=n(195),V=n(213),K=n(196),X=n(197),Y=function(e){var t=e.history,n=e.renderSignUp,i=q(),s=Object(c.useContext)(b),o=Object(c.useState)(null),r=Object(d.a)(o,2),l=r[0],j=r[1],m=Object(c.useState)({email:"",password:""}),f=Object(d.a)(m,2),p=f[0],O=f[1],x=function(){var e=Object(M.a)(G.a.mark((function e(n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h.login(p).then((function(e){var n=e.isAuthenticated,a=e.user,c=e.message;n?(s.setUser(a),s.setIsAuthenticated(n),t.push("/home")):(j(c),console.log(c))})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:i.root,onSubmit:x,children:[Object(a.jsx)(w.a,{variant:"h1",children:"SIGN IN"}),Object(a.jsxs)(Q.a,{className:i.formElement,error:null!==l,children:[Object(a.jsx)(V.a,{htmlFor:"email-login",children:"Email"}),Object(a.jsx)(K.a,{id:"email-login",type:"email",value:p.email,onChange:function(e){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{email:e.target.value})}))}})]}),Object(a.jsxs)(Q.a,{className:i.formElement,error:null!==l,children:[Object(a.jsx)(V.a,{htmlFor:"password-login",children:"Password"}),Object(a.jsx)(K.a,{id:"password-login",type:"password",value:p.password,onChange:function(e){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{password:e.target.value})}))}})]}),Object(a.jsxs)("div",{className:i.formLinks,children:[Object(a.jsx)(X.a,{children:"Forgot Password?"}),Object(a.jsx)(X.a,{onClick:n,children:"Don't have an account yet?"})]}),Object(a.jsx)(N.a,{className:i.formBtnSubmit,type:"submit",variant:"contained",color:"primary",children:Object(a.jsx)(w.a,{variant:"h3",children:"Login"})})]})},Z=n(211),$=n(74),ee=n.n($),te=n(198),ne=n(200),ae=function(e){var t=e.severity,n=e.message,i=e.setMessage,s=Object(c.useState)(!1),o=Object(d.a)(s,2),r=o[0],l=o[1];return Object(c.useEffect)((function(){l(null!==n)}),[n]),Object(a.jsx)(te.a,{in:r,children:Object(a.jsx)(Z.a,{severity:t,action:Object(a.jsx)(ne.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l(!1),i(null)},children:Object(a.jsx)(ee.a,{fontSize:"inherit"})}),children:n})})},ce=function(e){var t=e.renderSignIn,n=e.history,i=q(),s=Object(c.useState)(null),o=Object(d.a)(s,2),r=o[0],l=o[1],j=Object(c.useState)({username:"",name:"",email:"",password:"",confirmPassword:""}),b=Object(d.a)(j,2),m=b[0],f=b[1],p=function(){var e=Object(M.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h.register(m).then((function(e){console.log(e.status),"error"!==e.status?n.push("/home"):l(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:i.root,onSubmit:p,children:[Object(a.jsx)(w.a,{variant:"h1",children:"SIGN UP"}),Object(a.jsxs)(Q.a,{className:i.formElement,children:[Object(a.jsx)(V.a,{htmlFor:"username-signup",children:"Username"}),Object(a.jsx)(K.a,{id:"username-signup",value:m.username,onChange:function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{username:e.target.value})}))}})]}),Object(a.jsxs)(Q.a,{className:i.formElement,children:[Object(a.jsx)(V.a,{htmlFor:"email-signup",children:"Email"}),Object(a.jsx)(K.a,{id:"email-signup",type:"email",value:m.email,onChange:function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{email:e.target.value})}))}})]}),Object(a.jsxs)(Q.a,{className:i.formElement,children:[Object(a.jsx)(V.a,{htmlFor:"name-signup",children:"Name"}),Object(a.jsx)(K.a,{id:"name-signup",value:m.name,onChange:function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{name:e.target.value})}))}})]}),Object(a.jsxs)(Q.a,{className:i.formElement,children:[Object(a.jsx)(V.a,{htmlFor:"password-signup",children:"Password"}),Object(a.jsx)(K.a,{id:"password-signup",type:"password",value:m.password,onChange:function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{password:e.target.value})}))}})]}),Object(a.jsxs)(Q.a,{className:i.formElement,children:[Object(a.jsx)(V.a,{htmlFor:"confirm-password-signup",children:"Confirm Password"}),Object(a.jsx)(K.a,{id:"confirm-password-signup",type:"password",value:m.confirmPassword,onChange:function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{confirmPassword:e.target.value})}))}})]}),Object(a.jsx)(ae,{message:r,setMessage:l,severity:"error"}),Object(a.jsx)(N.a,{className:i.formBtnSubmit,variant:"contained",color:"primary",type:"submit",children:Object(a.jsx)(w.a,{variant:"h3",children:"Sign Up"})}),Object(a.jsxs)(w.a,{children:["Already have an account yet?",Object(a.jsx)(X.a,{onClick:t,children:" Login"})]})]})},ie=function(e){var t=H(),n=Object(c.useState)(!0),i=Object(d.a)(n,2),s=i[0],o=i[1];return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(P.a,{container:!0,children:[Object(a.jsx)(P.a,{item:!0,xs:12,sm:6}),Object(a.jsx)(P.a,{className:t.menu,item:!0,xs:12,sm:6,children:s?Object(a.jsx)(Y,{history:e.history,renderSignUp:function(){return o(!1)}}):Object(a.jsx)(ce,{history:e.history,renderSignIn:function(){return o(!0)}})})]})})},se={createPost:function(e){return fetch("/api/post/add",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e}))},getAllPosts:function(){return fetch("/api/post/allPosts").then((function(e){return e.json()})).then((function(e){return e}))},getCurrentUserPosts:function(){return fetch("/api/post/myPosts").then((function(e){return e.json()})).then((function(e){return e}))},likeComment:function(e){return fetch("/api/post/likeComment",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},unLikeComment:function(e){return fetch("/api/post/unLikeComment",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},deletePost:function(e){return fetch("/api/post/deletePost",{method:"POST",body:JSON.stringify({post:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))}},oe=n(214),re=n(114),le=n(204),ue=function(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})},je=n(212),de=n(201),he=n(202),be=Object(x.a)((function(e){return{root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},title:{textAlign:"center"}}})),me=function(e){var t=e.title,n=e.children,c=e.open,i=e.onClose,s=be();return Object(a.jsxs)(je.a,{classes:{paper:s.root},open:c,onClose:i,fullWidth:!0,maxWidth:"sm",children:[Object(a.jsx)(de.a,{className:s.title,children:t}),Object(a.jsx)(he.a,{children:n})]})},fe=n(99),pe=n.n(fe),Oe=n(98),xe=n.n(Oe),ge=n(101),ve=n.n(ge),ye=n(100),we=n.n(ye),Ce=n(97),Se=n.n(Ce),Fe=Object(x.a)((function(e){return{root:{width:"100%",WebkitBoxSizing:"border-box",height:"auto",padding:e.spacing(2,2,1),backgroundColor:"#FFFFFF",borderTop:"2px solid #D0D0D0"},postContent:{width:"90%"},postImage:{width:"100%"},postInfoContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between"},postInfo:{display:"flex",alignItems:"center"},avatar:{margin:"16px auto"},stats:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1),alignItems:"center",width:"60%"},statsBtn:{color:"#3B5998"}}})),Ne=function(e){var t=e.post,n=e.refresh,s=Object(c.useContext)(b).user,o=Fe(),r=Object(c.useState)(!1),l=Object(d.a)(r,2),u=l[0],j=l[1],h=Object(c.useState)(t.likes.length),m=Object(d.a)(h,2),f=m[0],p=m[1],O=Object(c.useState)(!1),x=Object(d.a)(O,2),g=x[0],v=x[1],y=Object(c.useState)(""),C=Object(d.a)(y,2),S=C[0],F=C[1],I=i.a.useState(null),k=Object(d.a)(I,2),B=k[0],T=k[1],D=function(){T(null)};return Object(c.useEffect)((function(){j(t.likes.includes(s._id))}),[t,s]),Object(a.jsxs)(P.a,{container:!0,className:o.root,children:[Object(a.jsx)(P.a,{item:!0,xs:2,children:Object(a.jsx)(oe.a,{className:o.avatar,src:t.postedBy.profileImage})}),Object(a.jsxs)(P.a,{item:!0,xs:10,className:o.postInfoContainer,children:[Object(a.jsxs)("div",{className:o.postContent,children:[Object(a.jsxs)(P.a,{container:!0,className:o.postInfo,children:[Object(a.jsx)(P.a,{item:!0,xs:3,children:Object(a.jsx)(w.a,{variant:"h5",children:t.postedBy.name})}),Object(a.jsx)(P.a,{item:!0,xs:5}),Object(a.jsxs)(P.a,{item:!0,xs:4,container:!0,alignItems:"center",children:[Object(a.jsx)(P.a,{item:!0,xs:10,children:Object(a.jsx)(w.a,{variant:"subtitle1",children:ue(t.date)})}),Object(a.jsxs)(P.a,{item:!0,xs:2,children:[Object(a.jsx)(N.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){T(e.currentTarget)},children:Object(a.jsx)(Se.a,{})}),Object(a.jsxs)(re.a,{id:"simple-menu",keepMounted:!0,anchorEl:B,open:Boolean(B),onClose:D,children:[Object(a.jsx)(le.a,{onClick:D,children:"Report"}),s._id===t.postedBy._id&&Object(a.jsx)(le.a,{onClick:function(){se.deletePost(t).then((function(e){n()})).catch((function(e){return console.log(e)}))},children:"Delete"})]})]})]})]}),Object(a.jsx)(w.a,{variant:"subtitle2",children:t.post})]}),t.files.length>0&&Object(a.jsx)(P.a,{container:!0,children:t.files.map((function(e,t,n){return Object(a.jsxs)(P.a,{item:!0,xs:(c=n.length,1===c?12:2===c?6:3===c?4:3),children:[" ",Object(a.jsx)("img",{alt:"post attached images",className:o.postImage,src:e,onClick:function(){return function(e){F(e),v(!0)}(e)}})]},e);var c}))}),Object(a.jsxs)("div",{className:o.stats,children:[Object(a.jsx)(N.a,{className:o.statsBtn,onClick:function(){u?se.unLikeComment(t._id).then((function(e){j(!1),p(f-1)})):se.likeComment(t._id).then((function(e){j(!0),p(f+1)}))},children:u?Object(a.jsx)(xe.a,{fontSize:"small"}):Object(a.jsx)(pe.a,{fontSize:"small"})}),Object(a.jsx)(w.a,{variant:"caption",children:f}),Object(a.jsx)(N.a,{className:o.statsBtn,children:Object(a.jsx)(we.a,{fontSize:"small"})}),Object(a.jsx)(w.a,{variant:"caption",children:t.comments.length}),Object(a.jsx)(N.a,{className:o.statsBtn,children:Object(a.jsx)(ve.a,{fontSize:"small"})})]})]}),Object(a.jsx)(me,{open:g,onClose:function(){v(!1)},children:Object(a.jsx)("img",{alt:"post attached images",src:S,className:o.postImage})})]})},Ie=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],s=function(){se.getAllPosts().then((function(e){e.posts?i(e.posts):console.log(e)}))};return Object(c.useEffect)(s,[]),Object(a.jsx)("div",{children:n.map((function(e,t){return Object(a.jsx)(Ne,{post:e,refresh:s},e._id)}))})},ke=n(76),Pe=n(209),Be=n(206),Te=Object(x.a)((function(e){return{root:{height:"100%",maxHeight:"100%",overflow:"scroll"},banner:{minHeight:"30%",backgroundImage:"url(https://marketplace.canva.com/EADahxS2PEw/1/0/800w/canva-snowy-mountaintops-profile-header-sU9map7BguQ.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",justifyContent:"flex-start",alignItems:"center"},avatar:{backgroundColor:"white",height:"100px",width:"100px"},infoPanel:{minHeight:"25%",borderTop:"1px solid grey"},profileInfo:{width:"100%"},tabs:{width:"100%"}}})),De={getFollowings:function(){return fetch("/api/user/following").then((function(e){return 401!==e.status?e.json().then((function(e){return e.following})):[]}))},searchUser:function(e){return fetch("/api/user/search",{method:"POST",body:JSON.stringify({query:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},uploadProfileImage:function(e){return fetch("/api/user/uploadProfileImage",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},Ue=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},Ae=function(e){var t=e.children,n=e.value,c=e.index,i=Object(j.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({role:"tabpanel",hidden:n!==c},Ue(c)),i),{},{children:n===c&&t}))},Ee=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(2,2),justifyContent:"center",alignItems:"center"},postList:{width:"90%"}}})),ze=n(110),We=n(208),Le=n(205),Je=n(111),Re=n.n(Je),He=Object(x.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2,2),justifyContent:"center",alignItems:"center"},textArea:{width:"90%",margin:e.spacing(1,0)},submitButton:{alignSelf:"flex-center",margin:e.spacing(1,5),width:"40%"}}})),_e=function(e){var t=e.onCreate,n=He(),i=Object(c.useState)(""),s=Object(d.a)(i,2),o=s[0],r=s[1],l=Object(c.useState)(!1),u=Object(d.a)(l,2),j=u[0],h=u[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),f=m[0],p=m[1],O=function(){h(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("postText",o);var a,c=Object(ze.a)(f);try{for(c.s();!(a=c.n()).done;){var i=a.value;n.append("attahcedFiles",i)}}catch(s){c.e(s)}finally{c.f()}console.log(n),se.createPost(n).then((function(e){console.log(e),t()}))},children:[Object(a.jsx)(We.a,{id:"newPost",className:n.textArea,value:o,onChange:function(e){r(e.target.value)},placeholder:"New Post",multiline:!0,InputProps:{endAdornment:Object(a.jsx)(Le.a,{position:"end",children:Object(a.jsx)(N.a,{onClick:function(){h(!0)},children:Object(a.jsx)(Re.a,{})})})}}),Object(a.jsx)(N.a,{className:n.submitButton,variant:"contained",color:"primary",type:"submit",children:"Post"})]}),Object(a.jsx)(ke.a,{open:j,onClose:O,onDrop:function(e){p(e)},onSave:function(){O()},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0})]})},Ge=function(e){var t=Ee(),n=Object(c.useState)(null),i=Object(d.a)(n,2),s=i[0],o=i[1],r=Object(c.useState)([]),l=Object(d.a)(r,2),u=l[0],j=l[1],h=function(){se.getCurrentUserPosts().then((function(e){e.posts?j(e.posts):(console.log(e),o(e))}))};return Object(c.useEffect)(h,[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_e,{onCreate:h}),Object(a.jsx)("div",{className:t.postList,children:u.map((function(e,t){return Object(a.jsx)(Ne,{post:e,refresh:h},"post-".concat(t,"-").concat(e.date))}))}),s&&Object(a.jsx)("div",{children:s})]})},Me=function(e){var t=Object(c.useContext)(b),n=t.user,i=t.fetchUserData,s=Object(c.useState)(0),o=Object(d.a)(s,2),r=o[0],l=o[1],j=Object(c.useState)(!1),h=Object(d.a)(j,2),m=h[0],f=h[1],p=Object(c.useState)(),O=Object(d.a)(p,2),x=O[0],g=O[1],v=Te();return Object(a.jsxs)("div",{className:v.root,children:[Object(a.jsx)("div",{className:v.banner,children:Object(a.jsx)(ne.a,{disableRipple:!0,onClick:function(){f(!0)},children:Object(a.jsx)(oe.a,{className:v.avatar,src:n.profileImage})})}),Object(a.jsx)("div",{className:v.infoPanel,children:Object(a.jsxs)("div",{className:v.profileInfo,children:[Object(a.jsx)(w.a,{variant:"h2",children:n.name}),Object(a.jsxs)(w.a,{variant:"body2",children:["Joined ",ue(n.date)]}),Object(a.jsxs)("div",{className:v.tabs,children:[Object(a.jsxs)(Pe.a,{variant:"fullWidth",value:r,onChange:function(e,t){l(t)},children:[Object(a.jsx)(Be.a,Object(u.a)({label:"Posts"},Ue(0))),Object(a.jsx)(Be.a,Object(u.a)({label:"Media"},Ue(1)))]}),Object(a.jsx)(Ae,{value:r,index:0,children:Object(a.jsx)(Ge,{})})]})]})}),Object(a.jsx)(ke.a,{open:m,onClose:function(){f(!1)},onDrop:function(e){g(e)},onSave:function(e){var t=new FormData;t.set("image",x[0],"".concat(x[0].lastModified,"-").concat(x[0].name)),De.uploadProfileImage(t).then((function(e){return i()})).catch((function(e){return console.log(e)}))},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0})]})},qe=Object(x.a)((function(e){return{root:{},searchBar:{width:"90%",WebkitBoxSizing:"border-box",margin:e.spacing(0,4),padding:e.spacing(1,2),display:"flex",alignItems:"center",borderRadius:"50px",marginTop:e.spacing(2)},inputField:{width:"100%"},submitBtn:{}}})),Qe=Object(x.a)((function(e){return{root:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},userInfo:{display:"flex",alignItems:"center"},avatar:{width:e.spacing(8),height:e.spacing(8),margin:e.spacing(0,2)},followBtn:{border:"5px solid #3B5998",borderRadius:"50px",color:"#3B5998"}}})),Ve=function(e){var t=Qe(),n=e.user,c=n.name,i=n.profileImage;return Object(a.jsxs)(g.a,{className:t.root,children:[Object(a.jsxs)("div",{className:t.userInfo,children:[Object(a.jsx)(oe.a,{alt:"Profile-Img",className:t.avatar,src:i}),Object(a.jsx)(w.a,{variant:"h5",children:c})]}),Object(a.jsx)(N.a,{className:t.followBtn,children:"Follow"})]})},Ke=n(199),Xe=n(152),Ye=n(112),Ze=n.n(Ye),$e=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),i=n[0],s=n[1],o=Object(c.useState)(""),r=Object(d.a)(o,2),l=r[0],u=r[1],j=Object(c.useState)([]),h=Object(d.a)(j,2),b=h[0],m=h[1],f=qe();return Object(c.useEffect)((function(){De.getFollowings().then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsxs)(Ke.a,{component:"form",className:f.searchBar,onSubmit:function(e){e.preventDefault(),De.searchUser(l).then((function(e){m(e.users)}))},children:[Object(a.jsx)(Xe.a,{className:f.inputField,placeholder:"Search User",inputProps:{"aria-label":"search user"},onChange:function(e){""===e.target.value&&m([]),u(e.target.value)}}),Object(a.jsx)(ne.a,{className:f.submitBtn,type:"submit","aria-label":"search",children:Object(a.jsx)(Ze.a,{})})]}),Object(a.jsx)(F.a,{children:i.length>0&&i.map((function(e){return Object(a.jsx)(Ve,{user:e},e.email)}))}),Object(a.jsx)(F.a,{children:b.length>0&&b.map((function(e){return Object(a.jsx)(Ve,{user:e},e.email)}))})]})};var et=function(){return Object(a.jsx)(r.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(p,{exact:!0,path:"/",component:ie}),Object(a.jsxs)(R,{children:[Object(a.jsx)(f,{path:"/profile",roles:["User"],component:Me}),Object(a.jsx)(f,{path:"/home",roles:["User","Admin"],component:Ie}),Object(a.jsx)(f,{path:"/friends",roles:["User"],component:$e})]})]})})},tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},nt=n(207),at=n(113),ct=Object(at.a)({typography:{h1:{fontSize:"3.2rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#3B5998"},h2:{fontSize:"3rem",fontFamily:"'Baloo Chettan 2', cursive"},h3:{fontSize:"1.8rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#FFFFFF"},h4:{fontWeight:"700",fontFamily:"'Varela Round', sans-serif"},h5:{fontWeight:"600",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.6rem"},h6:{fontWeight:"400",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.3rem"},subtitle1:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"0.9rem",color:"#505050"},subtitle2:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"1rem"},caption:{fontFamily:"'Ubuntu', sans-serif",fontWeight:"600",color:"#3B5998",fontSize:"0.7rem"}}});o.a.render(Object(a.jsx)(m,{children:Object(a.jsx)(nt.a,{theme:ct,children:Object(a.jsx)(et,{})})}),document.getElementById("root")),tt()}},[[149,1,2]]]);
//# sourceMappingURL=main.8ba3629e.chunk.js.map