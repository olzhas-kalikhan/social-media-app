(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),s=n.n(c),i=n(14),r=n.n(i),o=(n(134),n(50)),l=n(17),u=n(13),j=n(3),d=n(8),h={login:function(e){return fetch("/api/user/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},register:function(e){return fetch("/api/user/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},logout:function(){return fetch("/api/user/logout").then((function(e){return e.json()})).then((function(e){return e}))},isAuthenticated:function(){return fetch("/api/user/authenticated").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{email:"",name:"",role:""}}}))}},b=Object(c.createContext)(),m=function(e){var t=e.children,n=Object(c.useState)(null),s=Object(d.a)(n,2),i=s[0],r=s[1],o=Object(c.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],m=Object(c.useState)(!1),f=Object(d.a)(m,2),p=f[0],O=f[1],x=function(){h.isAuthenticated().then((function(e){r(e.user),j(e.isAuthenticated),O(!0)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)(x,[]),Object(a.jsx)("div",{children:p?Object(a.jsx)(b.Provider,{value:{user:i,setUser:r,isAuthenticated:u,setIsAuthenticated:j,fetchUserData:x},children:t}):Object(a.jsx)("h1",{children:"Loading"})})},f=function(e){var t=e.component,n=e.roles,s=Object(j.a)(e,["component","roles"]),i=Object(c.useContext)(b),r=i.isAuthenticated,o=i.user;return Object(a.jsx)(l.b,Object(u.a)(Object(u.a)({},s),{},{render:function(e){return r?n.includes(o.role)?Object(a.jsx)(t,Object(u.a)({},e)):Object(a.jsx)(l.a,{to:{pathname:"/profile",state:{from:e.location}}}):Object(a.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},p=function(e){var t=e.component,n=Object(j.a)(e,["component"]),s=Object(c.useContext)(b).isAuthenticated;return Object(a.jsx)(l.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return s?Object(a.jsx)(l.a,{to:{pathname:"/home",state:{from:e.location}}}):Object(a.jsx)(t,Object(u.a)({},e))}}))},O=n(9),x=n(186),g=n(150),v=n(190),w=n(191),y=n(56),C=Object(x.a)((function(e){return{root:{display:"flex",width:"100%",textDecoration:"none",justifyContent:"center ",color:"#011640"},listItem:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50px",width:"100%"},selectedItem:{backgroundColor:"none",color:"#010626","&hover":{background:"none",color:"grey"}},listItemText:Object(O.a)({textAlign:"center",width:"100%",flex:"0.5 0.5"},e.breakpoints.down("sm"),{display:"none"}),icon:{fontSize:"2rem",color:"inherit",minWidth:"0"}}})),S=function(e){var t=e.text,n=e.icon,c=e.path,s=e.onClick,i=e.index,r=e.selected,l=C();return Object(a.jsx)(o.b,{to:{pathname:c},className:l.root,children:Object(a.jsxs)(g.a,{button:!0,alignItems:"center",selected:r===i,onClick:function(){return s(i)},classes:{root:l.listItem,selected:l.selectedItem},children:[Object(a.jsx)(v.a,{classes:{root:l.icon},children:n({fontSize:"inherit"})}),Object(a.jsx)(w.a,{disableTypography:!0,classes:{root:l.listItemText},children:Object(a.jsx)(y.a,{variant:"h5",children:t})})]})})},F=n(192),N=function(e){var t=e.selected,n=e.onClick,c=e.items;return Object(a.jsxs)("div",{className:e.className,children:[c.map((function(e,c){var s=e.title,i=e.icon,r=e.path;return Object(a.jsx)(S,{index:c,text:s,icon:i,path:r,selected:t,onClick:n},"Nav-".concat(c,"-").concat(s))})),Object(a.jsx)(F.a,{onClick:function(){h.logout().then((function(){window.location.reload()}))},children:"Logout"})]})},I=function(e){return Object(a.jsx)("div",{className:e.className})},k=n(193),P=Object(x.a)((function(e){return{root:{display:"flex",width:"100%",backgroundColor:"#011640",color:"#FFFFFF",height:e.spacing(7),minHeight:"5vh",alignItems:"center"},navGrid:Object(O.a)({margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),searchBarLabel:{color:"#FFFFFF"},searchBar:{borderRadius:"30px",color:"#FFFFFF"},textField:{width:"100%",color:"#FFFFFF"}}})),B=function(e){var t=P(),n=e.title;return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(k.a,{className:t.navGrid,container:!0,justify:"center",alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,md:2,children:Object(a.jsxs)(y.a,{variant:"h4",children:[" ",n.toUpperCase()," "]})}),Object(a.jsx)(k.a,{item:!0,md:4})]})})},T=n(95),D=n.n(T),U=n(94),A=n.n(U),z=n(96),E=n.n(z),W=[{title:"Home",path:"/home",icon:function(e){return Object(a.jsx)(A.a,Object(u.a)({},e))}},{title:"Profile",path:"/profile",icon:function(e){return Object(a.jsx)(D.a,Object(u.a)({},e))}},{title:"Friends",path:"/friends",icon:function(e){return Object(a.jsx)(E.a,Object(u.a)({},e))}}],L=Object(x.a)((function(e){return{root:Object(O.a)({height:"95vh",maxHeight:"95vh",margin:"0 auto"},e.breakpoints.up("lg"),{maxWidth:"1140px"}),content:Object(O.a)({width:"100%",height:"100%",maxHeight:"100%",overflow:"scroll"},e.breakpoints.down("sm"),{order:"2"}),sidebar:Object(O.a)({height:"100%",width:"80%",display:"flex",paddingTop:"50%",flexDirection:"column",alignItems:"center",margin:"0 auto"},e.breakpoints.down("xs"),{paddingTop:"0",flexDirection:"row",order:"3",height:"10%"}),sideInfo:Object(O.a)({width:"100%",height:"100%"},e.breakpoints.down("sm"),{display:"none"})}})),R=function(e){var t=L(),n=e.children,s=e.location,i=W.findIndex((function(e){return e.path===s.pathname})),r=Object(c.useState)(i),o=Object(d.a)(r,2),l=o[0],u=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B,{title:W[l].title}),Object(a.jsxs)(k.a,{className:t.root,container:!0,alignItems:"stretch",children:[Object(a.jsx)(k.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(N,{className:t.sidebar,items:W,selected:l,onClick:u})}),Object(a.jsx)(k.a,{item:!0,md:6,xs:12,className:t.content,children:n}),Object(a.jsx)(k.a,{item:!0,md:3,children:Object(a.jsx)(I,{className:t.sideInfo})})]})]})},J=Object(x.a)((function(e){return{root:{flexGrow:1,height:"100vh"},menu:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},menuItem:{margin:e.spacing(1),width:"45%"}}})),H=n(15),M=n.n(H),_=n(73),G=Object(x.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},formElement:Object(O.a)({marginBottom:e.spacing(1),marginTop:e.spacing(1),width:"50%"},e.breakpoints.down("md"),{width:"70%"}),formBtnSubmit:Object(O.a)({marginTop:e.spacing(2),width:"20%",borderRadius:e.spacing(1.5)},e.breakpoints.down("md"),{width:"50%"}),formLinks:(t={display:"flex",justifyContent:"space-between",width:"50%"},Object(O.a)(t,e.breakpoints.down("md"),{width:"70%",flexDirection:"column"}),Object(O.a)(t,"&:hover",{cursor:"pointer"}),t)}})),q=n(197),Q=n(212),V=n(198),K=n(199),X=n(210),Y=n(74),Z=n.n(Y),$=n(194),ee=n(196),te=function(e){var t=e.severity,n=e.message,s=e.setMessage,i=Object(c.useState)(!1),r=Object(d.a)(i,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){l(null!==n)}),[n]),Object(a.jsx)($.a,{in:o,children:Object(a.jsx)(X.a,{severity:t,action:Object(a.jsx)(ee.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l(!1),s(null)},children:Object(a.jsx)(Z.a,{fontSize:"inherit"})}),children:n})})},ne=function(e){var t=e.history,n=e.renderSignUp,s=G(),i=Object(c.useContext)(b),r=Object(c.useState)(null),o=Object(d.a)(r,2),l=o[0],j=o[1],m=Object(c.useState)({email:"",password:""}),f=Object(d.a)(m,2),p=f[0],O=f[1],x=function(){var e=Object(_.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),""===p.email||""===p.password?j("Please enter email and password"):h.login(p).then((function(e){console.log(e,"ccccccccc");var n=e.isAuthenticated,a=e.user,c=e.message;n?(i.setUser(a),i.setIsAuthenticated(n),t.push("/home")):(j(c),console.log(c,"message"))})).catch((function(){return j("Wrong email and password combination")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:s.root,onSubmit:x,children:[Object(a.jsx)(y.a,{variant:"h1",children:"SIGN IN"}),Object(a.jsxs)(q.a,{className:s.formElement,error:null!==l,children:[Object(a.jsx)(Q.a,{htmlFor:"email-login",children:"Email"}),Object(a.jsx)(V.a,{id:"email-login",type:"email",value:p.email,onChange:function(e){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{email:e.target.value})}))}})]}),Object(a.jsxs)(q.a,{className:s.formElement,error:null!==l,children:[Object(a.jsx)(Q.a,{htmlFor:"password-login",children:"Password"}),Object(a.jsx)(V.a,{id:"password-login",type:"password",value:p.password,onChange:function(e){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{password:e.target.value})}))}})]}),Object(a.jsxs)("div",{className:s.formLinks,children:[Object(a.jsx)(K.a,{children:"Forgot Password?"}),Object(a.jsx)(K.a,{onClick:n,children:"Don't have an account yet?"})]}),Object(a.jsx)(F.a,{className:s.formBtnSubmit,type:"submit",variant:"contained",color:"primary",children:Object(a.jsx)(y.a,{variant:"h3",children:"Login"})}),Object(a.jsx)(te,{message:l,setMessage:j,severity:"error"})]})},ae=function(e){var t=e.renderSignIn,n=e.history,s=G(),i=Object(c.useState)({email:!1,name:!1,password:!1,confirmPassword:!1}),r=Object(d.a)(i,2),o=r[0],l=r[1],j=Object(c.useState)(null),b=Object(d.a)(j,2),m=b[0],f=b[1],p=Object(c.useState)({name:"",email:"",password:"",confirmPassword:""}),O=Object(d.a)(p,2),x=O[0],g=O[1],v=function(){var e=Object(_.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l((function(e){var t=e;return t.email=""===x.email,t.name=""===x.name,t.password=""===x.password,t.confirmPassword=""===x.confirmPassword,t})),x.password!==x.confirmPassword&&f("Passwords don't match"),h.register(x).then((function(e){console.log(e.status),"error"!==e.status?n.push("/home"):f(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:s.root,onSubmit:v,children:[Object(a.jsx)(y.a,{variant:"h1",children:"SIGN UP"}),Object(a.jsxs)(q.a,{className:s.formElement,error:o.email,children:[Object(a.jsx)(Q.a,{htmlFor:"email-signup",children:"Email"}),Object(a.jsx)(V.a,{id:"email-signup",type:"email",value:x.email,onChange:function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{email:e.target.value})}))}})]}),Object(a.jsxs)(q.a,{className:s.formElement,error:o.name,children:[Object(a.jsx)(Q.a,{htmlFor:"name-signup",children:"Name"}),Object(a.jsx)(V.a,{id:"name-signup",value:x.name,onChange:function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{name:e.target.value})}))}})]}),Object(a.jsxs)(q.a,{className:s.formElement,error:o.password,children:[Object(a.jsx)(Q.a,{htmlFor:"password-signup",children:"Password"}),Object(a.jsx)(V.a,{id:"password-signup",type:"password",value:x.password,onChange:function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{password:e.target.value})}))}})]}),Object(a.jsxs)(q.a,{className:s.formElement,error:o.confirmPassword,children:[Object(a.jsx)(Q.a,{htmlFor:"confirm-password-signup",children:"Confirm Password"}),Object(a.jsx)(V.a,{id:"confirm-password-signup",type:"password",value:x.confirmPassword,onChange:function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{confirmPassword:e.target.value})}))}})]}),Object(a.jsx)(te,{message:m,setMessage:f,severity:"error"}),Object(a.jsx)(F.a,{className:s.formBtnSubmit,variant:"contained",color:"primary",type:"submit",children:Object(a.jsx)(y.a,{variant:"h3",children:"Sign Up"})}),Object(a.jsxs)(y.a,{children:["Already have an account yet?",Object(a.jsx)(K.a,{onClick:t,children:" Login"})]})]})},ce=function(e){var t=J(),n=Object(c.useState)(!0),s=Object(d.a)(n,2),i=s[0],r=s[1];return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:12,sm:6}),Object(a.jsx)(k.a,{className:t.menu,item:!0,xs:12,sm:6,children:i?Object(a.jsx)(ne,{history:e.history,renderSignUp:function(){return r(!1)}}):Object(a.jsx)(ae,{history:e.history,renderSignIn:function(){return r(!0)}})})]})})},se={createPost:function(e){return fetch("/api/post/add",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e}))},getAllPosts:function(){return fetch("/api/post/allPosts").then((function(e){return e.json()})).then((function(e){return e}))},getCurrentUserPosts:function(){return fetch("/api/post/myPosts").then((function(e){return e.json()})).then((function(e){return e}))},likeComment:function(e){return fetch("/api/post/likeComment",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},unLikeComment:function(e){return fetch("/api/post/unLikeComment",{method:"POST",body:JSON.stringify({postId:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},deletePost:function(e){return fetch("/api/post/deletePost",{method:"POST",body:JSON.stringify({post:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))}},ie=n(213),re=n(114),oe=n(204),le=function(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})},ue=n(211),je=n(200),de=n(201),he=Object(x.a)((function(e){return{root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},title:{textAlign:"center"}}})),be=function(e){var t=e.title,n=e.children,c=e.open,s=e.onClose,i=he();return Object(a.jsxs)(ue.a,{classes:{paper:i.root},open:c,onClose:s,fullWidth:!0,maxWidth:"sm",children:[Object(a.jsx)(je.a,{className:i.title,children:t}),Object(a.jsx)(de.a,{children:n})]})},me=n(99),fe=n.n(me),pe=n(98),Oe=n.n(pe),xe=n(101),ge=n.n(xe),ve=n(100),we=n.n(ve),ye=n(97),Ce=n.n(ye),Se=Object(x.a)((function(e){return{root:{width:"100%",WebkitBoxSizing:"border-box",height:"auto",padding:e.spacing(2,0,1),backgroundColor:"#FFFFFF",borderTop:"2px solid #D0D0D0"},postContent:{width:"90%"},postImage:{width:"90%"},postInfoContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between"},postInfo:{display:"flex",alignItems:"center"},avatar:{margin:"16px auto"},stats:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1),alignItems:"center",width:"60%"},statsBtn:{color:"#404040"}}})),Fe=function(e){var t=e.post,n=e.refresh,i=Object(c.useContext)(b).user,r=Se(),o=Object(c.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],h=Object(c.useState)(t.likes.length),m=Object(d.a)(h,2),f=m[0],p=m[1],O=Object(c.useState)(!1),x=Object(d.a)(O,2),g=x[0],v=x[1],w=Object(c.useState)(""),C=Object(d.a)(w,2),S=C[0],N=C[1],I=s.a.useState(null),P=Object(d.a)(I,2),B=P[0],T=P[1],D=function(){T(null)};return Object(c.useEffect)((function(){j(t.likes.includes(i._id))}),[t,i]),Object(a.jsxs)(k.a,{container:!0,className:r.root,children:[Object(a.jsx)(k.a,{item:!0,xs:2,children:Object(a.jsx)(ie.a,{className:r.avatar,src:t.postedBy.profileImage})}),Object(a.jsxs)(k.a,{item:!0,xs:10,className:r.postInfoContainer,children:[Object(a.jsxs)("div",{className:r.postContent,children:[Object(a.jsxs)(k.a,{container:!0,className:r.postInfo,children:[Object(a.jsx)(k.a,{item:!0,xs:8,children:Object(a.jsx)(y.a,{variant:"h5",children:t.postedBy.name})}),Object(a.jsxs)(k.a,{item:!0,xs:4,container:!0,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:10,children:Object(a.jsx)(y.a,{variant:"subtitle1",children:le(t.date)})}),Object(a.jsxs)(k.a,{item:!0,xs:2,children:[Object(a.jsx)(F.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){T(e.currentTarget)},children:Object(a.jsx)(Ce.a,{})}),Object(a.jsxs)(re.a,{id:"simple-menu",keepMounted:!0,anchorEl:B,open:Boolean(B),onClose:D,children:[Object(a.jsx)(oe.a,{onClick:D,children:"Report"}),i._id===t.postedBy._id&&Object(a.jsx)(oe.a,{onClick:function(){se.deletePost(t).then((function(e){n()})).catch((function(e){return console.log(e)}))},children:"Delete"})]})]})]})]}),Object(a.jsx)(y.a,{variant:"subtitle2",children:t.post})]}),t.files.length>0&&Object(a.jsx)(k.a,{container:!0,children:t.files.map((function(e,t,n){return Object(a.jsxs)(k.a,{item:!0,xs:(c=n.length,1===c?12:2===c?6:3===c?4:3),children:[" ",Object(a.jsx)("img",{alt:"post attached images",className:r.postImage,src:e,onClick:function(){return function(e){N(e),v(!0)}(e)}})]},e);var c}))}),Object(a.jsxs)("div",{className:r.stats,children:[Object(a.jsx)(F.a,{className:r.statsBtn,onClick:function(){u?se.unLikeComment(t._id).then((function(e){j(!1),p(f-1)})):se.likeComment(t._id).then((function(e){j(!0),p(f+1)}))},children:u?Object(a.jsx)(Oe.a,{fontSize:"small"}):Object(a.jsx)(fe.a,{fontSize:"small"})}),Object(a.jsx)(y.a,{variant:"caption",children:f}),Object(a.jsx)(F.a,{className:r.statsBtn,children:Object(a.jsx)(we.a,{fontSize:"small"})}),Object(a.jsx)(y.a,{variant:"caption",children:t.comments.length}),Object(a.jsx)(F.a,{className:r.statsBtn,children:Object(a.jsx)(ge.a,{fontSize:"small"})})]})]}),Object(a.jsx)(be,{open:g,onClose:function(){v(!1)},children:Object(a.jsx)("img",{alt:"post attached images",src:S,className:r.postImage})})]})},Ne=n(102),Ie=n(207),ke=n(76),Pe=n(111),Be=n.n(Pe),Te=Object(x.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2,0),justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF"},textArea:{width:"90%",margin:e.spacing(1,0)},submitButton:{width:"80%",borderRadius:"30px"}}})),De=function(e){var t=e.onCreate,n=Te(),s=Object(c.useState)(""),i=Object(d.a)(s,2),r=i[0],o=i[1],l=Object(c.useState)(!1),u=Object(d.a)(l,2),j=u[0],h=u[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),f=m[0],p=m[1],O=function(){h(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("postText",r);var a,c=Object(Ne.a)(f);try{for(c.s();!(a=c.n()).done;){var s=a.value;n.append("attahcedFiles",s)}}catch(i){c.e(i)}finally{c.f()}se.createPost(n).then((function(){o(""),t()}))},children:[Object(a.jsx)(Ie.a,{id:"newPost",className:n.textArea,value:r,onChange:function(e){o(e.target.value)},placeholder:"New Post",multiline:!0}),Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:3,children:Object(a.jsx)(F.a,{onClick:function(){h(!0)},children:Object(a.jsx)(Be.a,{})})}),Object(a.jsx)(k.a,{item:!0,xs:6}),Object(a.jsx)(k.a,{item:!0,xs:3,children:Object(a.jsx)(F.a,{className:n.submitButton,variant:"contained",color:"primary",type:"submit",children:"Post"})})]})]}),Object(a.jsx)(ke.a,{open:j,onClose:O,onDrop:function(e){p(e)},onSave:function(){O()},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0})]})},Ue=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],i=function(){se.getAllPosts().then((function(e){e.posts?s(e.posts):console.log(e)}))};return Object(c.useEffect)(i,[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(De,{onCreate:i}),n.map((function(e,t){return Object(a.jsx)(Fe,{post:e,refresh:i},e._id)}))]})},Ae=n(208),ze=n(205),Ee=Object(x.a)((function(e){return{root:{height:"100%",maxHeight:"100%",overflow:"scroll"},banner:{minHeight:"30%",backgroundImage:"url(https://marketplace.canva.com/EADahxS2PEw/1/0/800w/canva-snowy-mountaintops-profile-header-sU9map7BguQ.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",justifyContent:"flex-start",alignItems:"center"},avatar:{backgroundColor:"white",height:"100px",width:"100px"},infoPanel:{minHeight:"25%",borderTop:"1px solid grey"},profileInfo:{width:"100%"},tabs:{width:"100%"}}})),We={getFollowings:function(){return fetch("/api/user/following").then((function(e){return 401!==e.status?e.json().then((function(e){return e.following})):[]}))},searchUser:function(e){return fetch("/api/user/search",{method:"POST",body:JSON.stringify({query:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},uploadProfileImage:function(e){return fetch("/api/user/uploadProfileImage",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},Le=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},Re=function(e){var t=e.children,n=e.value,c=e.index,s=Object(j.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({role:"tabpanel",hidden:n!==c},Le(c)),s),{},{children:n===c&&t}))},Je=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(2,0),justifyContent:"center",alignItems:"center"},postList:{width:"100%"}}})),He=function(e){var t=Je(),n=Object(c.useState)(null),s=Object(d.a)(n,2),i=s[0],r=s[1],o=Object(c.useState)([]),l=Object(d.a)(o,2),u=l[0],j=l[1],h=function(){se.getCurrentUserPosts().then((function(e){e.posts?j(e.posts):(console.log(e),r(e.message))}))};return Object(c.useEffect)(h,[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(De,{onCreate:h}),Object(a.jsx)("div",{className:t.postList,children:u.map((function(e,t){return Object(a.jsx)(Fe,{post:e,refresh:h},"post-".concat(t,"-").concat(e.date))}))}),i&&Object(a.jsx)("div",{children:i})]})},Me=function(e){var t=Object(c.useContext)(b),n=t.user,s=t.fetchUserData,i=Object(c.useState)(0),r=Object(d.a)(i,2),o=r[0],l=r[1],j=Object(c.useState)(!1),h=Object(d.a)(j,2),m=h[0],f=h[1],p=Object(c.useState)(),O=Object(d.a)(p,2),x=O[0],g=O[1],v=Ee(),w=function(){f(!1)};return Object(a.jsxs)("div",{className:v.root,children:[Object(a.jsx)("div",{className:v.banner,children:Object(a.jsx)(ee.a,{disableRipple:!0,onClick:function(){f(!0)},children:Object(a.jsx)(ie.a,{className:v.avatar,src:n.profileImage})})}),Object(a.jsx)("div",{className:v.infoPanel,children:Object(a.jsxs)("div",{className:v.profileInfo,children:[Object(a.jsx)(y.a,{variant:"h2",children:n.name}),Object(a.jsxs)(y.a,{variant:"body2",children:["Joined ",le(n.date)]}),Object(a.jsxs)("div",{className:v.tabs,children:[Object(a.jsxs)(Ae.a,{variant:"fullWidth",value:o,onChange:function(e,t){l(t)},children:[Object(a.jsx)(ze.a,Object(u.a)({label:"Posts"},Le(0))),Object(a.jsx)(ze.a,Object(u.a)({label:"Media"},Le(1)))]}),Object(a.jsx)(Re,{value:o,index:0,children:Object(a.jsx)(He,{})})]})]})}),Object(a.jsx)(ke.a,{open:m,onClose:w,onDrop:function(e){g(e)},onSave:function(e){var t=new FormData;t.set("image",x[0],"".concat(x[0].lastModified,"-").concat(x[0].name)),We.uploadProfileImage(t).then((function(e){s(),w()})).catch((function(e){return console.log(e)}))},acceptedFiles:["image/jpeg","image/png","image/bmp"],showPreviews:!0})]})},_e=Object(x.a)((function(e){return{root:{},searchBar:{width:"90%",WebkitBoxSizing:"border-box",margin:e.spacing(0,4),padding:e.spacing(1,2),display:"flex",alignItems:"center",borderRadius:"50px",marginTop:e.spacing(2)},inputField:{width:"100%"},submitBtn:{}}})),Ge=Object(x.a)((function(e){return{root:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},userInfo:{display:"flex",alignItems:"center"},avatar:{width:e.spacing(8),height:e.spacing(8),margin:e.spacing(0,2)},followBtn:{border:"5px solid #011640",borderRadius:"50px",color:"#011640"}}})),qe=function(e){var t=Ge(),n=e.user,c=n.name,s=n.profileImage;return Object(a.jsxs)(g.a,{className:t.root,children:[Object(a.jsxs)("div",{className:t.userInfo,children:[Object(a.jsx)(ie.a,{alt:"Profile-Img",className:t.avatar,src:s}),Object(a.jsx)(y.a,{variant:"h5",children:c})]}),Object(a.jsx)(F.a,{className:t.followBtn,children:"Add"})]})},Qe=n(203),Ve=n(195),Ke=n(152),Xe=n(112),Ye=n.n(Xe),Ze=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),s=n[0],i=n[1],r=Object(c.useState)(""),o=Object(d.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)([]),h=Object(d.a)(j,2),b=h[0],m=h[1],f=_e();return Object(c.useEffect)((function(){We.getFollowings().then((function(e){i(e)})).catch((function(e){return console.log(e)})),We.searchUser("").then((function(e){m(e.users)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsxs)(Ve.a,{component:"form",className:f.searchBar,onSubmit:function(e){e.preventDefault(),We.searchUser(l).then((function(e){m(e.users)}))},children:[Object(a.jsx)(Ke.a,{className:f.inputField,placeholder:"Search User",inputProps:{"aria-label":"search user"},onChange:function(e){""===e.target.value&&m([]),u(e.target.value)}}),Object(a.jsx)(ee.a,{className:f.submitBtn,type:"submit","aria-label":"search",children:Object(a.jsx)(Ye.a,{})})]}),Object(a.jsx)(Qe.a,{children:s.length>0&&s.map((function(e){return Object(a.jsx)(qe,{user:e},e.email)}))}),Object(a.jsx)(Qe.a,{children:b.length>0&&b.map((function(e){return Object(a.jsx)(qe,{user:e},e.email)}))})]})};var $e=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(p,{exact:!0,path:"/",component:ce}),Object(a.jsxs)(R,{children:[Object(a.jsx)(f,{path:"/profile",roles:["User"],component:Me}),Object(a.jsx)(f,{path:"/home",roles:["User","Admin"],component:Ue}),Object(a.jsx)(f,{path:"/friends",roles:["User"],component:Ze})]})]})})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},tt=n(206),nt=n(113),at=Object(nt.a)({palette:{primary:{main:"#011640"}},typography:{h1:{fontSize:"3.2rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#011640"},h2:{fontSize:"3rem",fontFamily:"'Baloo Chettan 2', cursive"},h3:{fontSize:"1.8rem",fontWeight:"700",fontFamily:"'Baloo Chettan 2', cursive",color:"#FFFFFF"},h4:{fontWeight:"700",fontFamily:"'Varela Round', sans-serif"},h5:{fontWeight:"600",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.6rem"},h6:{fontWeight:"400",fontFamily:"'Baloo Chettan 2', cursive",fontSize:"1.3rem"},subtitle1:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"0.9rem",color:"#505050"},subtitle2:{fontWeight:"400",fontFamily:"'Ubuntu', sans-serif",fontSize:"1rem"},caption:{fontFamily:"'Ubuntu', sans-serif",fontWeight:"600",color:"#404040",fontSize:"0.7rem"}}});r.a.render(Object(a.jsx)(m,{children:Object(a.jsx)(tt.a,{theme:at,children:Object(a.jsx)($e,{})})}),document.getElementById("root")),et()}},[[149,1,2]]]);
//# sourceMappingURL=main.fd85512b.chunk.js.map